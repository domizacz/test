@page "/"
@using CallR.Models
@using CallR.Data
@using Refit

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

@test

Welcome to your new app.

@foreach(var test in ApiList.Entries)
{
    test.API.ToString();
    test.Description.ToString();
}

<SurveyPrompt Title="How is Blazor working for you?" />

@code{
    private APIList ApiList = new APIList();
    public List<APIs> Listfrom = new List<APIs>();
    public string test;
    protected override async Task OnInitializedAsync()
    {
        
        var apilistno = RestService.For<IWebAPI>("https://api.publicapis.org");
        ApiList = await apilistno.GetAPI();
        test = ApiList.Entries[1].Description;
        await Task.Delay(1000); 
    }
    //protected async Task OnInitializedAsync()
    //{
    //    ApiList = new APIList();
    //    Listfrom = new List<APIs>();
    //    var apilistno = RestService.For<IWebAPI>("https://api.publicapis.org");
    //    ApiList = await apilistno.GetAPI();
    //    Listfrom = ApiList.Entries;
    //}
}