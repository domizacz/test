@page "/"
@using CallR.Models
@using CallR.Data
@using Refit

<PageTitle>Index</PageTitle>
@test
@if (ApiList.Count != 0)
{
    @foreach (var test in ApiList.Entries)
    {
        test.API.ToString();
        test.Description.ToString();
    }

}

@code{
    private APIList1 ApiList = new APIList1();
    private List<APIs> Listfrom = new List<APIs>();
    public string test;

    protected override async Task OnInitializedAsync()
    {
       
        var apilistno = RestService.For<IWebAPI>("https://api.publicapis.org/entries?category=science");
        ApiList = await apilistno.GetAPI();
        test = ApiList.Entries[1].Description;
        
    }
    //protected async Task OnInitializedAsync()
    //{
    //    ApiList = new APIList();
    //    Listfrom = new List<APIs>();
    //    var apilistno = RestService.For<IWebAPI>("https://api.publicapis.org");
    //    ApiList = await apilistno.GetAPI();
    //    Listfrom = ApiList.Entries;
    //}
}